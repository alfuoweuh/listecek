<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lísteček {{ nazev_vypravy }}</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/jpeg" href="{{ url_for('static', filename='icon.ico') }}">
    {% if download_url %}
    <meta http-equiv="refresh" content="0;url={{ download_url }}">
    {% endif %}
</head>
<body>
    <div class="main-container listecek-container">
        <h1>Nechť zadají vše potřebné, stáhnou si lísteček a pak si užijí výpravu!</h1>
        <h3>Jen pozor, ať si jej nezavřou neuložený a nepřijdou zbytečně o práci!</h3>
        
        <form method="POST" action="/listecek" class="form-grid">
            <input type="hidden" name="id" value="{{ id }}">

            <div class="section-card section-header">
                <h4 style="margin: 0 0 15px 0; color: var(--md-sys-color-on-primary-container);">Hlavička</h4>
                <div class="row-header">
                    <div class="input-group col-grow">
                        <label class="md-label" for="nazev_vypravy">Název výpravy</label>
                        <input type="text" id="nazev_vypravy" name="nazev_vypravy" placeholder="Putování na Trutnovsko" value="{{ nazev_vypravy }}">
                    </div>
                    <div class="input-group col-small">
                        <label class="md-label" for="rok">Rok (pro web)</label>
                        <input type="text" id="rok" name="rok" placeholder="1968" value="{{ rok }}">
                    </div>
                </div>
            </div>

            <div class="section-card section-logistics">
                <div class="row-logistics">
                    <div class="column">
                        <h4 style="margin: 0 0 15px 0; color: #1a3816;">Sraz</h4>
                        <div class="input-group">
                            <label class="md-label" for="sraz_cas">Kdy</label>
                            <input type="text" id="sraz_cas" name="sraz_cas" placeholder="v pátek 13. 13. v 13:13" value="{{ sraz_cas }}">
                        </div>
                        <div class="input-group">
                            <label class="md-label" for="sraz_misto_1">Kde</label>
                            <input type="text" id="sraz_misto_1" name="sraz_misto_1" placeholder="na Hlavním nádraží" value="{{ sraz_misto_1 }}">
                        </div>
                        <div class="input-group">
                            <label class="md-label" for="sraz_misto_2">Kde (upřesnění)</label>
                            <input type="text" id="sraz_misto_2" name="sraz_misto_2" placeholder="pod odjezdovou tabulí" value="{{ sraz_misto_2 }}">
                        </div>
                    </div>

                    <div class="column">
                        <h4 style="margin: 0 0 15px 0; color: #1a3816;">Návrat</h4>
                        <div class="input-group">
                            <label class="md-label" for="navrat_cas">Kdy</label>
                            <input type="text" id="navrat_cas" name="navrat_cas" placeholder="v neděli 15.13 v 13:13" value="{{ navrat_cas }}">
                        </div>
                        <div class="input-group">
                            <label class="md-label" for="navrat_misto_1">Kde</label>
                            <input type="text" id="navrat_misto_1" name="navrat_misto_1" placeholder="tamtéž" value="{{ navrat_misto_1 }}">
                        </div>
                        <div class="input-group">
                            <label class="md-label" for="navrat_misto_2">Kde (upřesnění)</label>
                            <input type="text" id="navrat_misto_2" name="navrat_misto_2" placeholder="" value="{{ navrat_misto_2 }}">
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-card section-content">
                <h4 style="margin: 0 0 15px 0; color: #6e4e10;">Obecné</h4>
                <div class="input-group">
                    <label class="md-label" for="s_sebou">S sebou</label>
                    <textarea id="s_sebou" name="s_sebou" placeholder="věci na vícedenní výpravu, prskavky…">{{ s_sebou }}</textarea>
                </div>
                <div class="input-group">
                    <label class="md-label" for="kdo_ma">Kdo má</label>
                    <textarea id="kdo_ma" name="kdo_ma" rows="2" placeholder="lakrosku, dort">{{ kdo_ma }}</textarea>
                </div>
                <div class="input-group">
                    <label class="md-label" for="jidlo">Jídlo</label>
                    <textarea id="jidlo" name="jidlo" placeholder="páteční večeři, snídaně...">{{ jidlo }}</textarea>
                </div>
                <div class="input-group">
                    <label class="md-label" for="cena">Cena</label>
                    <input type="text" id="cena" name="cena" placeholder="100 Kč" value="{{ cena }}">
                </div>
                <div class="input-group">
                    <label class="md-label" for="poznamka">Poznámka</label>
                    <textarea id="poznamka" name="poznamka" placeholder="Další důležité informace...">{{ poznamka }}</textarea>
                </div>
            </div>

            <details class="custom-fields">
                <summary>Vlastní pole</summary>
                <div class="custom-fields-content">
                    <div class="custom-row">
                        <div class="input-group label-input">
                            <label class="md-label" for="label_vlastni_1">Název pole</label>
                            <input type="text" id="label_vlastni_1" name="label_vlastni_1" placeholder="nebrat" value="{{ label_vlastni_1 }}">
                        </div>
                        <div class="input-group text-input">
                            <label class="md-label" for="vlastni_1">Obsah pole</label>
                            <input type="text" id="vlastni_1" name="vlastni_1" placeholder="zlatou cihlu a ponožky" value="{{ vlastni_1 }}">
                        </div>
                    </div>

                    <div class="custom-row">
                        <div class="input-group label-input">
                            <label class="md-label" for="label_vlastni_2">Název pole</label>
                            <input type="text" id="label_vlastni_2" name="label_vlastni_2" placeholder="kamarádovi do batohu" value="{{ label_vlastni_2 }}">
                        </div>
                        <div class="input-group text-input">
                            <label class="md-label" for="vlastni_2">Obsah pole</label>
                            <input type="text" id="vlastni_2" name="vlastni_2" placeholder="5 kg šutr" value="{{ vlastni_2 }}">
                        </div>
                    </div>
                </div>
            </details>

            <div class="section-card">
                <h4 style="margin: 0 0 15px 0; color: var(--md-sys-color-secondary);">Kontakty</h4>
                <div style="display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap;">
                    <div class="input-group" style="flex:1; min-width: 150px;">
                        <label class="md-label" for="kontakt_jmeno_0">Jméno</label>
                        <input type="text" name="kontakt_jmeno_0" value="{{ kontakt_jmeno_0 }}">
                    </div>
                    <div class="input-group" style="flex:1.5; min-width: 200px;">
                        <label class="md-label" for="kontakt_email_0">Email</label>
                        <input type="text" name="kontakt_email_0" value="{{ kontakt_email_0 }}">
                    </div>
                    <div class="input-group" style="flex:1; min-width: 150px;">
                        <label class="md-label" for="kontakt_telefon_0">Telefon</label>
                        <input type="text" name="kontakt_telefon_0" value="{{ kontakt_telefon_0 }}">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap;">
                    <div class="input-group" style="flex:1; min-width: 150px;">
                         <label class="md-label" for="kontakt_jmeno_1">Jméno</label>
                        <input type="text" name="kontakt_jmeno_1" value="{{ kontakt_jmeno_1 }}">
                    </div>
                    <div class="input-group" style="flex:1.5; min-width: 200px;">
                         <label class="md-label" for="kontakt_email_1">Email</label>
                        <input type="text" name="kontakt_email_1" value="{{ kontakt_email_1 }}">
                    </div>
                    <div class="input-group" style="flex:1; min-width: 150px;">
                         <label class="md-label" for="kontakt_telefon_1">Telefon</label>
                        <input type="text" name="kontakt_telefon_1" value="{{ kontakt_telefon_1 }}">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <div class="input-group" style="flex:1; min-width: 150px;">
                         <label class="md-label" for="kontakt_jmeno_2">Jméno</label>
                        <input type="text" name="kontakt_jmeno_2" value="{{ kontakt_jmeno_2 }}">
                    </div>
                    <div class="input-group" style="flex:1.5; min-width: 200px;">
                         <label class="md-label" for="kontakt_email_2">Email</label>
                        <input type="text" name="kontakt_email_2" value="{{ kontakt_email_2 }}">
                    </div>
                    <div class="input-group" style="flex:1; min-width: 150px;">
                         <label class="md-label" for="kontakt_telefon_2">Telefon</label>
                        <input type="text" name="kontakt_telefon_2" value="{{ kontakt_telefon_2 }}">
                    </div>
                </div>
            </div>

            <div class="actions">
                <button type="submit" name="action" value="save">Uložit změny</button>
                <button type="submit" name="action" value="home">Zpět domů</button>
                <button type="submit" name="action" value="delete">Smazat</button>
                
                <div class="spacer"></div>
                
                <button type="submit" name="action" value="download_png">Stáhnout PNG</button>
                <button type="submit" name="action" value="download_pdf">Stáhnout PDF</button>
            </div>
        </form>
    </div>
</body>
</html>